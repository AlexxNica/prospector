(function(r){function n(d){var b,c=this,a=d.data||{};if(a.elem){c=d.dragTarget=a.elem,d.dragProxy=o.proxy||c,d.cursorOffsetX=a.pageX-a.left,d.cursorOffsetY=a.pageY-a.top,d.offsetX=d.pageX-d.cursorOffsetX,d.offsetY=d.pageY-d.cursorOffsetY}else{if(o.dragging||a.which>0&&d.which!=a.which||r(d.target).is(a.not)){return}}switch(d.type){case"mousedown":return r.extend(a,r(c).offset(),{elem:c,target:d.target,pageX:d.pageX,pageY:d.pageY}),q.add(document,"mousemove mouseup",n,a),j(c,!1),o.dragging=null,!1;case !o.dragging&&"mousemove":if(l(d.pageX-a.pageX)+l(d.pageY-a.pageY)<a.distance){break}d.target=a.target,b=m(d,"dragstart",c),b!==!1&&(o.dragging=c,o.proxy=d.dragProxy=r(b||c)[0]);case"mousemove":if(o.dragging){if(b=m(d,"drag",c),p.drop&&(p.drop.allowed=b!==!1,p.drop.handler(d)),b!==!1){break}d.type="mouseup"}case"mouseup":q.remove(document,"mousemove mouseup",n),o.dragging&&(p.drop&&p.drop.handler(d),m(d,"dragend",c)),j(c,!0),o.dragging=o.proxy=a.elem=!1}return !0}function m(a,h,g){a.type=h;var f=r.event.dispatch.call(g,a);return f===!1?!1:f||a.result}function l(b){return Math.pow(b,2)}function k(){return o.dragging===!1}function j(d,c){d&&(d.unselectable=c?"off":"on",d.onselectstart=function(){return c},d.style&&(d.style.MozUserSelect=c?"":"none"))}r.fn.drag=function(e,d,f){return d&&this.bind("dragstart",e),f&&this.bind("dragend",f),e?this.bind("drag",d?d:e):this.trigger("drag")};var q=r.event,p=q.special,o=p.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=r.extend({distance:o.distance,which:o.which,not:o.not},a||{}),a.distance=l(a.distance),q.add(this,"mousedown",n,a),this.attachEvent&&this.attachEvent("ondragstart",k)},teardown:function(){q.remove(this,"mousedown",n),this===o.dragging&&(o.dragging=o.proxy=!1),j(this,!0),this.detachEvent&&this.detachEvent("ondragstart",k)}};p.dragstart=p.dragend={setup:function(){},teardown:function(){}}})(jQuery);(function(f){function b(h){var d=h||window.event,l=[].slice.call(arguments,1),j=0,k=0,i=0,h=f.event.fix(d);h.type="mousewheel";d.wheelDelta&&(j=d.wheelDelta/120);d.detail&&(j=-d.detail/3);i=j;void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS&&(i=0,k=-1*j);void 0!==d.wheelDeltaY&&(i=d.wheelDeltaY/120);void 0!==d.wheelDeltaX&&(k=-1*d.wheelDeltaX/120);l.unshift(h,j,k,i);return(f.event.dispatch||f.event.handle).apply(this,l)}var g=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks){for(var a=g.length;a;){f.event.fixHooks[g[--a]]=f.event.mouseHooks}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var c=g.length;c;){this.addEventListener(g[--c],b,!1)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var c=g.length;c;){this.removeEventListener(g[--c],b,!1)}}else{this.onmousewheel=null}}};f.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},unmousewheel:function(c){return this.unbind("mousewheel",c)}})})(jQuery);(function(b){var a={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,cursor:"move",frameRate:20}};function c(m){function i(q,p){var r=m.offset();r.left=q.pageX-r.left;r.top=q.pageY-r.top;if(p){m.zoomOut({center:r})}else{m.zoom({center:r})}}function d(p,q){p.preventDefault();i(p,q<0);return false}var j="default",l=0,o=0,e=null;function n(p){if(p.which!=1){return false}var q=m.getPlaceholder().css("cursor");if(q){j=q}m.getPlaceholder().css("cursor",m.getOptions().pan.cursor);l=p.pageX;o=p.pageY}function h(q){var p=m.getOptions().pan.frameRate;if(e||!p){return}e=setTimeout(function(){m.pan({left:l-q.pageX,top:o-q.pageY});l=q.pageX;o=q.pageY;e=null},1/p*1000)}function k(p){if(e){clearTimeout(e);e=null}m.getPlaceholder().css("cursor",j);m.pan({left:l-p.pageX,top:o-p.pageY})}function f(q,p){var r=q.getOptions();if(r.zoom.interactive){p[r.zoom.trigger](i);p.mousewheel(d)}if(r.pan.interactive){p.bind("dragstart",{distance:10},n);p.bind("drag",h);p.bind("dragend",k)}}m.zoomOut=function(p){if(!p){p={}}if(!p.amount){p.amount=m.getOptions().zoom.amount}p.amount=1/p.amount;m.zoom(p)};m.zoom=function(s){if(!s){s={}}var x=s.center,r=s.amount||m.getOptions().zoom.amount,q=m.width(),u=m.height();if(!x){x={left:q/2,top:u/2}}var t=x.left/q,v=x.top/u,p={x:{min:x.left-t*q/r,max:x.left+(1-t)*q/r},y:{min:x.top-v*u/r,max:x.top+(1-v)*u/r}};b.each(m.getAxes(),function(F,z){var w=z.options,A=p[z.direction].min,E=p[z.direction].max,D=w.zoomRange,y=w.panRange;if(D===false){return}A=z.c2p(A);E=z.c2p(E);if(A>E){var B=A;A=E;E=B}if(y){if(y[0]!=null&&A<y[0]){A=y[0]}if(y[1]!=null&&E>y[1]){E=y[1]}}var C=E-A;if(D&&((D[0]!=null&&C<D[0]&&r>1)||(D[1]!=null&&C>D[1]&&r<1))){return}w.min=A;w.max=E});m.setupGrid();m.draw();if(!s.preventEvent){m.getPlaceholder().trigger("plotzoom",[m,s])}};m.pan=function(p){var q={x:+p.left,y:+p.top};if(isNaN(q.x)){q.x=0}if(isNaN(q.y)){q.y=0}b.each(m.getAxes(),function(s,u){var v=u.options,t,r,w=q[u.direction];t=u.c2p(u.p2c(u.min)+w),r=u.c2p(u.p2c(u.max)+w);var x=v.panRange;if(x===false){return}if(x){if(x[0]!=null&&x[0]>t){w=x[0]-t;t+=w;r+=w}if(x[1]!=null&&x[1]<r){w=x[1]-r;t+=w;r+=w}}v.min=t;v.max=r});m.setupGrid();m.draw();if(!p.preventEvent){m.getPlaceholder().trigger("plotpan",[m,p])}};function g(q,p){p.unbind(q.getOptions().zoom.trigger,i);p.unbind("mousewheel",d);p.unbind("dragstart",n);p.unbind("drag",h);p.unbind("dragend",k);if(e){clearTimeout(e)}}m.hooks.bindEvents.push(f);m.hooks.shutdown.push(g)}b.plot.plugins.push({init:c,options:a,name:"navigate",version:"1.3"})})(jQuery);