(function(b){var a={series:{fillBetween:null}};function c(f){function d(j,h){var g;for(g=0;g<h.length;++g){if(h[g].id===j.fillBetween){return h[g]}}if(typeof j.fillBetween==="number"){if(j.fillBetween<0||j.fillBetween>=h.length){return null}return h[j.fillBetween]}return null}function e(B,v,g){if(v.fillBetween==null){return}var n=d(v,B.getData());if(!n){return}var y=g.pointsize,E=g.points,t=n.datapoints.pointsize,H=n.datapoints.points,p=[],w,u,q,G,F,k,r=v.lines.show,o=y>2&&g.format[2].y,h=r&&v.lines.steps,D=true,C=0,A=0,z,x;while(true){if(C>=E.length){break}z=p.length;if(E[C]==null){for(x=0;x<y;++x){p.push(E[C+x])}C+=y}else{if(A>=H.length){if(!r){for(x=0;x<y;++x){p.push(E[C+x])}}C+=y}else{if(H[A]==null){for(x=0;x<y;++x){p.push(null)}D=true;A+=t}else{w=E[C];u=E[C+1];G=H[A];F=H[A+1];k=0;if(w===G){for(x=0;x<y;++x){p.push(E[C+x])}k=F;C+=y;A+=t}else{if(w>G){if(r&&C>0&&E[C-y]!=null){q=u+(E[C-y+1]-u)*(G-w)/(E[C-y]-w);p.push(G);p.push(q);for(x=2;x<y;++x){p.push(E[C+x])}k=F}A+=t}else{if(D&&r){C+=y;continue}for(x=0;x<y;++x){p.push(E[C+x])}if(r&&A>0&&H[A-t]!=null){k=F+(H[A-t+1]-F)*(w-G)/(H[A-t]-G)}C+=y}}D=false;if(z!==p.length&&o){p[z+2]=k}}}}if(h&&z!==p.length&&z>0&&p[z]!==null&&p[z]!==p[z-y]&&p[z+1]!==p[z-y+1]){for(x=0;x<y;++x){p[z+y+x]=p[z+x]}p[z+1]=p[z-y+1]}}g.points=p}f.hooks.processDatapoints.push(e)}b.plot.plugins.push({init:c,options:a,name:"fillbetween",version:"1.0"})})(jQuery);