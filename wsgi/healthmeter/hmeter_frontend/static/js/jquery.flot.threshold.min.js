(function(b){var a={series:{threshold:null}};function c(e){function f(D,v,g,u,B){var z=g.pointsize,E,r,q,w,C,t=b.extend({},v);t.datapoints={points:[],pointsize:z,format:g.format};t.label=null;t.color=B;t.threshold=null;t.originSeries=v;t.data=[];var j=g.points,h=v.lines.show;var l=[];var n=[];var A;for(E=0;E<j.length;E+=z){r=j[E];q=j[E+1];C=w;if(q<u){w=l}else{w=n}if(h&&C!=w&&r!=null&&E>0&&j[E-z]!=null){var o=r+(u-q)*(r-j[E-z])/(q-j[E-z+1]);C.push(o);C.push(u);for(A=2;A<z;++A){C.push(j[E+A])}w.push(null);w.push(null);for(A=2;A<z;++A){w.push(j[E+A])}w.push(o);w.push(u);for(A=2;A<z;++A){w.push(j[E+A])}}w.push(r);w.push(q);for(A=2;A<z;++A){w.push(j[E+A])}}g.points=n;t.datapoints.points=l;if(t.datapoints.points.length>0){var k=b.inArray(v,D.getData());D.getData().splice(k+1,0,t)}}function d(i,g,h){if(!g.threshold){return}if(g.threshold instanceof Array){g.threshold.sort(function(k,j){return k.below-j.below});b(g.threshold).each(function(j,k){f(i,g,h,k.below,k.color)})}else{f(i,g,h,g.threshold.below,g.threshold.color)}}e.hooks.processDatapoints.push(d)}b.plot.plugins.push({init:c,options:a,name:"threshold",version:"1.2"})})(jQuery);