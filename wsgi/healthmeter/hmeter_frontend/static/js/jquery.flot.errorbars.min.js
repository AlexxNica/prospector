(function(b){var d={series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}};function g(n,j,k,m){if(!j.points.errorbars){return}var o=[{x:true,number:true,required:true},{y:true,number:true,required:true}];var l=j.points.errorbars;if(l=="x"||l=="xy"){if(j.points.xerr.asymmetric){o.push({x:true,number:true,required:true});o.push({x:true,number:true,required:true})}else{o.push({x:true,number:true,required:true})}}if(l=="y"||l=="xy"){if(j.points.yerr.asymmetric){o.push({y:true,number:true,required:true});o.push({y:true,number:true,required:true})}else{o.push({y:true,number:true,required:true})}}m.format=o}function f(m,n){var t=m.datapoints.points;var p=null,k=null,l=null,s=null;var j=m.points.xerr,r=m.points.yerr;var q=m.points.errorbars;if(q=="x"||q=="xy"){if(j.asymmetric){p=t[n+2];k=t[n+3];if(q=="xy"){if(r.asymmetric){l=t[n+4];s=t[n+5]}else{l=t[n+4]}}}else{p=t[n+2];if(q=="xy"){if(r.asymmetric){l=t[n+3];s=t[n+4]}else{l=t[n+3]}}}}else{if(q=="y"){if(r.asymmetric){l=t[n+2];s=t[n+3]}else{l=t[n+2]}}}if(k==null){k=p}if(s==null){s=l}var o=[p,k,l,s];if(!j.show){o[0]=null;o[1]=null}if(!r.show){o[2]=null;o[3]=null}return o}function i(B,z,t){var F=t.datapoints.points,v=t.datapoints.pointsize,r=[t.xaxis,t.yaxis],n=t.points.radius,l=[t.points.xerr,t.points.yerr];var D=false;if(r[0].p2c(r[0].max)<r[0].p2c(r[0].min)){D=true;var I=l[0].lowerCap;l[0].lowerCap=l[0].upperCap;l[0].upperCap=I}var A=false;if(r[1].p2c(r[1].min)<r[1].p2c(r[1].max)){A=true;var I=l[1].lowerCap;l[1].lowerCap=l[1].upperCap;l[1].upperCap=I}for(var C=0;C<t.datapoints.points.length;C+=v){var G=f(t,C);for(var H=0;H<l.length;H++){var m=[r[H].min,r[H].max];if(G[H*l.length]){var p=F[C],o=F[C+1];var E=[p,o][H]+G[H*l.length+1],K=[p,o][H]-G[H*l.length];if(l[H].err=="x"){if(o>r[1].max||o<r[1].min||E<r[0].min||K>r[0].max){continue}}if(l[H].err=="y"){if(p>r[0].max||p<r[0].min||E<r[1].min||K>r[1].max){continue}}var J=true,j=true;if(E>m[1]){J=false;E=m[1]}if(K<m[0]){j=false;K=m[0]}if((l[H].err=="x"&&D)||(l[H].err=="y"&&A)){var I=K;K=E;E=I;I=j;j=J;J=I;I=m[0];m[0]=m[1];m[1]=I}p=r[0].p2c(p),o=r[1].p2c(o),E=r[H].p2c(E);K=r[H].p2c(K);m[0]=r[H].p2c(m[0]);m[1]=r[H].p2c(m[1]);var k=l[H].lineWidth?l[H].lineWidth:t.points.lineWidth,u=t.points.shadowSize!=null?t.points.shadowSize:t.shadowSize;if(k>0&&u>0){var q=u/2;z.lineWidth=q;z.strokeStyle="rgba(0,0,0,0.1)";c(z,l[H],p,o,E,K,J,j,n,q+q/2,m);z.strokeStyle="rgba(0,0,0,0.2)";c(z,l[H],p,o,E,K,J,j,n,q/2,m)}z.strokeStyle=l[H].color?l[H].color:t.color;z.lineWidth=k;c(z,l[H],p,o,E,K,J,j,n,0,m)}}}}function c(t,m,r,q,s,o,p,k,j,l,n){q+=l;s+=l;o+=l;if(m.err=="x"){if(s>r+j){a(t,[[s,q],[Math.max(r+j,n[0]),q]])}else{p=false}if(o<r-j){a(t,[[Math.min(r-j,n[1]),q],[o,q]])}else{k=false}}else{if(s<q-j){a(t,[[r,s],[r,Math.min(q-j,n[0])]])}else{p=false}if(o>q+j){a(t,[[r,Math.max(q+j,n[1])],[r,o]])}else{k=false}}j=m.radius!=null?m.radius:j;if(p){if(m.upperCap=="-"){if(m.err=="x"){a(t,[[s,q-j],[s,q+j]])}else{a(t,[[r-j,s],[r+j,s]])}}else{if(b.isFunction(m.upperCap)){if(m.err=="x"){m.upperCap(t,s,q,j)}else{m.upperCap(t,r,s,j)}}}}if(k){if(m.lowerCap=="-"){if(m.err=="x"){a(t,[[o,q-j],[o,q+j]])}else{a(t,[[r-j,o],[r+j,o]])}}else{if(b.isFunction(m.lowerCap)){if(m.err=="x"){m.lowerCap(t,o,q,j)}else{m.lowerCap(t,r,o,j)}}}}}function a(j,l){j.beginPath();j.moveTo(l[0][0],l[0][1]);for(var k=1;k<l.length;k++){j.lineTo(l[k][0],l[k][1])}j.stroke()}function e(l,j){var k=l.getPlotOffset();j.save();j.translate(k.left,k.top);b.each(l.getData(),function(m,n){if(n.points.errorbars&&(n.points.xerr.show||n.points.yerr.show)){i(l,j,n)}});j.restore()}function h(j){j.hooks.processRawData.push(g);j.hooks.draw.push(e)}b.plot.plugins.push({init:h,options:d,name:"errorbars",version:"1.0"})})(jQuery);